(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{392:function(s,t,a){s.exports=a.p+"assets/img/image-20210531101418695.346cbc92.png"},393:function(s,t,a){s.exports=a.p+"assets/img/wps3.c9994e56.jpg"},394:function(s,t,a){s.exports=a.p+"assets/img/wps4.6847dd9e.jpg"},395:function(s,t,a){s.exports=a.p+"assets/img/wps6.f09037cb.jpg"},396:function(s,t,a){s.exports=a.p+"assets/img/wps7.c9994e56.jpg"},397:function(s,t,a){s.exports=a.p+"assets/img/wps8.c0a28601.jpg"},398:function(s,t,a){s.exports=a.p+"assets/img/wps9.c29ca695.jpg"},399:function(s,t,a){s.exports=a.p+"assets/img/wps10.c9994e56.jpg"},400:function(s,t,a){s.exports=a.p+"assets/img/wps111.57df02f9.jpg"},485:function(s,t,a){"use strict";a.r(t);var r=a(25),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"钉钉打卡小程序优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#钉钉打卡小程序优化"}},[s._v("#")]),s._v(" 钉钉打卡小程序优化")]),s._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[s._v("- 需求编号：JIRA-7695\n- 产品：杨洁虹\n- 开发人员：张蒙培、王艳飞\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("h2",{attrs:{id:"打卡查询优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打卡查询优化"}},[s._v("#")]),s._v(" 打卡查询优化")]),s._v(" "),r("h3",{attrs:{id:"查询显示优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#查询显示优化"}},[s._v("#")]),s._v(" 查询显示优化")]),s._v(" "),r("p",[s._v("​\t原页面采用横向拖到表格的形式展示数据，需要改成竖向展示。特别的，存在批次号为空的查询结果，此时“批次号”这一列不显示就好了。")]),s._v(" "),r("p",[r("img",{attrs:{src:a(392),alt:"img"}})]),s._v(" "),r("h3",{attrs:{id:"输入框原型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#输入框原型"}},[s._v("#")]),s._v(" 输入框原型")]),s._v(" "),r("p",[s._v("​\t原先查询时需要手动输入单号，对于操作人员是否困难。查询单号输入框需要改成类似于手机淘宝的查询输入框，左边有一个扫描图标，点击扫描图标，展示条形码扫描页面，扫描成功后，自动查询结果并展示。")]),s._v(" "),r("p",[r("img",{attrs:{src:a(393),alt:"img"}})]),s._v(" "),r("h2",{attrs:{id:"扫描交接优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#扫描交接优化"}},[s._v("#")]),s._v(" 扫描交接优化")]),s._v(" "),r("h3",{attrs:{id:"扫描条形码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#扫描条形码"}},[s._v("#")]),s._v(" 扫描条形码")]),s._v(" "),r("p",[r("img",{attrs:{src:a(394),alt:"img"}})]),s._v(" "),r("p",[s._v("（1）去掉滑动页，仅显示扫描条形码页面")]),s._v(" "),r("p",[s._v("（2）扫描打卡提示语改成：点击扫描条形码")]),s._v(" "),r("p",[s._v("（3）扫描条形码模块增加小标题：扫描打卡")]),s._v(" "),r("p",[s._v("（4）用户扫描打卡完成后，跳转到上传交接单页面，即如下图：")]),s._v(" "),r("p",[s._v("![img](file:///C:\\Users\\User\\AppData\\Local\\Temp\\ksohtml1528\\wps5.jpg)")]),s._v(" "),r("p",[s._v("（5）扫描打卡自动提示打卡情况（提示：批次上传成功、打卡异常无数据）")]),s._v(" "),r("h3",{attrs:{id:"手动输入打卡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#手动输入打卡"}},[s._v("#")]),s._v(" 手动输入打卡")]),s._v(" "),r("p",[r("img",{attrs:{src:a(395),alt:"img"}})]),s._v(" "),r("p",[s._v("（1）隐藏扫描交接中“上传交界单”区域")]),s._v(" "),r("p",[s._v("（2）新增“手动输入打卡”到原来的“上传交界单”的位置。")]),s._v(" "),r("p",[s._v("（3）输入框左侧是扫描图标，点击后可以扫描条形码，并将结果展示到输入框中，右侧是具有删除功能的图标，点击后即可删除输入的内容（效果如手机淘宝的搜索框）。扫描或者输入单号完成后，点击确认按钮，再调用后台接口，完成手动输入打卡。")]),s._v(" "),r("p",[r("img",{attrs:{src:a(396),alt:"img"}})]),s._v(" "),r("p",[s._v("（4）扫描打卡自动提示打卡情况（提示：批次上传成功、打卡异常无数据）")]),s._v(" "),r("p",[s._v("（6）（5）用户扫描打卡完成后，跳转到上传交接单页面，即如下图：")]),s._v(" "),r("p",[r("img",{attrs:{src:a(397),alt:"img"}})]),s._v(" "),r("h2",{attrs:{id:"签收交接优化"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#签收交接优化"}},[s._v("#")]),s._v(" 签收交接优化")]),s._v(" "),r("h3",{attrs:{id:"签收交接查询"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#签收交接查询"}},[s._v("#")]),s._v(" 签收交接查询")]),s._v(" "),r("p",[s._v("（1）签收交接页面默认不展示数据")]),s._v(" "),r("p",[s._v("（2）取消按日期搜索已打卡未上传交接单批次的显示功能；取消模糊搜索功能，保留精确查找功能（需要输入完整的批次/班次号），并且在输入的时候不在调取后台接口。（签收交接仅允许精确查询了）")]),s._v(" "),r("p",[r("img",{attrs:{src:a(398),alt:"img"}})]),s._v(" "),r("p",[s._v("（3）新增按钮查询和扫描条形码查询")]),s._v(" "),r("p",[s._v("① 新增按钮查询：用户输入单号完毕后，点击查询按钮，调取接口，完成查询")]),s._v(" "),r("p",[s._v("② 新增扫描条形码查询：用户扫描条形码成功后，调取接口，完成查询")]),s._v(" "),r("p",[r("img",{attrs:{src:a(399),alt:"img"}})]),s._v(" "),r("h3",{attrs:{id:"允许重复上传交接单"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#允许重复上传交接单"}},[s._v("#")]),s._v(" 允许重复上传交接单")]),s._v(" "),r("p",[s._v("1、需求分析")]),s._v(" "),r("p",[s._v("​\t\t允许重复上传交接单，重复上传时，系统提示：YW2021XXXX(#批次号#）已有交接单附件，是否重新上传？重复上传后，需要覆盖原有交接单；（第一次上传的交接单，可能模糊不清，或者不符合要求等）")]),s._v(" "),r("p",[r("img",{attrs:{src:a(400),alt:"img"}})]),s._v(" "),r("p",[s._v("2、 新增查询接口")]),s._v(" "),r("p",[s._v("​\t\t\t此处会新增一个查询单号是否存在交接单的接口（参数只有单号），上传交接单之前，请先调用这个接口做出判断，并给出相应提示（提示信息会在接口中返回的，节点是message）。")]),s._v(" "),r("p",[s._v("（1）接口地址")]),s._v(" "),r("div",{staticClass:"language-apl line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-apl"}},[r("code",[s._v("https"),r("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("tms"),r("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[s._v(".")]),s._v("yanwentech"),r("span",{pre:!0,attrs:{class:"token dyadic-operator operator"}},[s._v(".")]),s._v("com"),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("transporttestserver"),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("api"),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shiftManage"),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("dingTalk"),r("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("uploadCount\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("p",[s._v("（2）请求参数")]),s._v(" "),r("div",{staticClass:"language-json line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-json"}},[r("code",[r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"number"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1111"')]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br")])]),r("p",[s._v("（3）返回参数")]),s._v(" "),r("div",{staticClass:"language-json line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-json"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//result为true，表示第一次上传，无需提示")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"result"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"message"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"操作成功！"')]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//result为false，表示第二次上传，需提示")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"result"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"code"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\t\n\t"),r("span",{pre:!0,attrs:{class:"token property"}},[s._v('"message"')]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"YW2021XXXX(#批次号#）已有交接单附件，是否重新上传？"')]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);