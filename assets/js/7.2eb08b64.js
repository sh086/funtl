(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{401:function(s,n,t){s.exports=t.p+"assets/img/20210528165412863.4a10c89b.png"},402:function(s,n,t){s.exports=t.p+"assets/img/image-20210528170008662.41bb8220.png"},403:function(s,n,t){s.exports=t.p+"assets/img/image-20210528172649483.3fc9dce1.png"},404:function(s,n,t){s.exports=t.p+"assets/img/image-20210528173816758.5f97329e.png"},487:function(s,n,t){"use strict";t.r(n);var a=t(25),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker部署jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker部署jenkins"}},[s._v("#")]),s._v(" Docker部署Jenkins")]),s._v(" "),a("p",[a("strong",[s._v("参考：")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://hub.docker.com/_/jenkins",target:"_blank",rel:"noopener noreferrer"}},[s._v("Jenkins部署方式"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000038648097",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker+jenkins实现自动化部署"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"环境准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[s._v("#")]),s._v(" 环境准备")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Linux：CentOS Linux release 7.9.2009\nDocker版本 ：1.13.1\nJdk版本 ：1.8.0_161\nMaven版本：3.8.1\njenkisn版本：lts（最新版）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("​\t\t接着，需要通过如下命令检查安装Jenkins的机器是否可以访问部署服务的机器。满足安装条件后，才能继续安装Jenkins。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@10.10.144.6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("​\t\t建议使用root用户 或者 具有root权限的用户，完成本次部署，")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建用户")]),s._v("\nadduser crmtest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" crmtest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加crmtest到root组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -g root crmtest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 /etc/passwd 文件，找到如下行，把用户ID修改为 0 ，赋予用户root权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/passwd\ncrmtest:x:0:0::/home/crmtest:/bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"启动jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动jenkins"}},[s._v("#")]),s._v(" 启动Jenkins")]),s._v(" "),a("p",[s._v("​\t\t首先，需要下载最新版Jenkins镜像")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("docker pull jenkins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jenkins:lts\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("​\t\t接着，需要新建"),a("code",[s._v("jenkins_home")]),s._v("持久化目录，使得重启"),a("code",[s._v("Jenkins")]),s._v("后仍可以保持Jenkins中的配置。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /var/jenkins_home\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为jenkins_home目录赋权")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(":1000 /var/jenkins_home\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("​\t\t然后，就可以通过"),a("code",[s._v("docker run")]),s._v(" 命令启动Jenkins了。特别的，此处我们配置的Jenkins访问端口是"),a("code",[s._v("8081")]),s._v("端口，大家可以自定义该端口。启动完成后，通过在浏览器中输入http://10.10.144.6:8081，即可访问Jenkins。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动命令")]),s._v("\ndocker run  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d --name jenkins  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(":8080  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /var/jenkins_home:/var/jenkins_home  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\njenkins/jenkins:lts\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看Jenkins启动情况")]),s._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("​\t\t初次访问需要解锁Jenkins，解锁密码在启动 "),a("strong",[s._v("日志中")]),s._v(" 或 "),a("strong",[s._v("容器内部")]),s._v(" 中都可以查到。解锁成功后，选择"),a("code",[s._v("安装推荐的插件")]),s._v("，然后静待插件安装完成。最后，进入设置用户密码页面，设置完成后即可使用此用户密码登录Jenkins。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看日志")]),s._v("\ndocker logs -f jenkins\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it jenkins "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/jenkins_home/secrets/initialAdminPassword\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"jenkins配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins配置"}},[s._v("#")]),s._v(" Jenkins配置")]),s._v(" "),a("h3",{attrs:{id:"插件安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件安装"}},[s._v("#")]),s._v(" 插件安装")]),s._v(" "),a("p",[s._v("​\t在"),a("code",[s._v("系统管理")]),s._v("中，点击"),a("code",[s._v("插件管理")]),s._v("，安装如下插件，安装完成后，请重启Jenkins。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Git Parameter\nPublish Over SSH\nMaven Integration\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven"}},[s._v("#")]),s._v(" Maven")]),s._v(" "),a("p",[s._v("​\t\t由于Jenkins是通过Dokcer部署的，所以本次将Maven安装到"),a("code",[s._v("/var/jenkins_home")]),s._v("目录下。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/jenkins_home\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载maven并解压")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf apache-maven-3.8.1-bin.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(":1000 apache-maven-3.8.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("​\t\t点击"),a("code",[s._v("系统管理")]),s._v(" -> "),a("code",[s._v("全局工具配置")]),s._v("，在Maven标签中点击新增Maven按钮，然后输入Maven名称，并设定"),a("code",[s._v("Maven_HOME")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(401),alt:"image-20210528165412863"}})]),s._v(" "),a("p",[s._v("补充说明知识点：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置JAVA_HOME的方法")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/var/jenkins_home/jdk\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${JAVA_HOME}")]),s._v("/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"publish-over-ssh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publish-over-ssh"}},[s._v("#")]),s._v(" Publish Over SSH")]),s._v(" "),a("p",[s._v("​\t\t点击"),a("code",[s._v("系统管理")]),s._v(" -> "),a("code",[s._v("系统配置")]),s._v("，在"),a("code",[s._v("系统配置")]),s._v("中找到"),a("code",[s._v("Publish over SSH")]),s._v("，然后，配置应用部署机器"),a("code",[s._v("10.10.144.6")]),s._v("的用户名、密码等基本信息。配置完成后通过点击"),a("code",[s._v("Test Configuration")]),s._v("按钮可以测试是否服务器是否连通，若不联通，则表明配置有问题或者该Jenkins无法对该机器进行部署。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(402),alt:"image-20210528170008662"}})]),s._v(" "),a("h2",{attrs:{id:"项目部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目部署"}},[s._v("#")]),s._v(" 项目部署")]),s._v(" "),a("h3",{attrs:{id:"源码管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码管理"}},[s._v("#")]),s._v(" 源码管理")]),s._v(" "),a("p",[s._v("​\t\t输入需要部署的项目地址，并"),a("code",[s._v("添加")]),s._v("认证方式后，选择指定分支。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(403),alt:"image-20210528172649483"}})]),s._v(" "),a("h3",{attrs:{id:"构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建"}},[s._v("#")]),s._v(" 构建")]),s._v(" "),a("p",[s._v("​\t\t选择刚才设置的远程服务器"),a("code",[s._v("CRM工单测试")]),s._v("，然后在"),a("code",[s._v("Source files")]),s._v("中设置需要传输文件的相对路径，在"),a("code",[s._v("Remove Prefix")]),s._v("中设置需要传输文件的目录前缀。最后，设置构建完成后，所需执行的命令即可完成。特别的，需要在高级中勾选"),a("code",[s._v("Verbose output in cnsole")]),s._v("打印完整日志，以便排错。")]),s._v(" "),a("p",[a("img",{attrs:{src:t(404),alt:"image-20210528173816758"}})]),s._v(" "),a("h2",{attrs:{id:"附录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[s._v("#")]),s._v(" 附录")]),s._v(" "),a("p",[s._v("​\t\t由于运维不让使用root权限进行部署，所以，需要将crmtest重新改回普通用户组、普通用户权限。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建crmtest用户组（可跳过）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" crmtest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将crmtest添加到crmtest用户组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -g crmtest crmtest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看crmtest用户信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" crmtest\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("uid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("crmtest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("groups")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("​\t\t接着，需要重新新建"),a("code",[s._v("/home/crmtest")]),s._v("目录，并为"),a("code",[s._v("crmtest")]),s._v("、"),a("code",[s._v("crm-api")]),s._v("、"),a("code",[s._v("work-order")]),s._v("设置用户和用户组权限。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/crmtest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 目录赋权")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R crmtest crmtest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" -R crmtest crmtest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R crmtest crm-api\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" -R crmtest crm-api\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R crmtest work-order\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" -R crmtest work-order\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("​\t\t最后，若想用户"),a("code",[s._v("crmtest")]),s._v("允许执行"),a("code",[s._v("docker")]),s._v("命令，可以通过如下两个方法解决。执行完成后，就可以"),a("code",[s._v("Jenkins")]),s._v("就能部署成功了。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法一")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" docker     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加docker用户组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gpasswd -a crmtest docker     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将登陆用户加入到docker用户组中")]),s._v("\nnewgrp docker     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#更新用户组")]),s._v("\ndocker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#测试docker命令是否可以使用sudomkdir /home/crmtest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法二")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" a+rw /var/run/docker.sock \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);